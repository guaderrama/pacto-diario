<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacto Diario</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?display=swap&family=Plus+Jakarta+Sans:wght@400;500;700;800">
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
        .view-hidden { display: none; }
    </style>
</head>
<body class="bg-[#fcf8f8]" style="font-family: 'Plus Jakarta Sans', sans-serif;">

    <div id="app-container" class="relative flex size-full min-h-screen flex-col justify-between max-w-lg mx-auto">

        <!-- Vistas de Autenticación (se muestran/ocultan desde JS) -->
        <div id="auth-container">
            <main id="login-view">
                <h2 class="text-[#1b0e0e] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-10">Bienvenido a Pacto Diario</h2>
                <form id="login-form" class="flex flex-1 gap-3 max-w-[480px] flex-col items-stretch px-4 py-3 mx-auto">
                    <h3 class="text-lg font-bold text-center">Iniciar Sesión</h3>
                    <input type="email" id="login-email" placeholder="Correo electrónico" class="form-input rounded-lg border-none bg-[#f3e7e8]" required>
                    <input type="password" id="login-password" placeholder="Contraseña" class="form-input rounded-lg border-none bg-[#f3e7e8]" required>
                    <button type="submit" class="rounded-lg h-12 px-5 bg-[#ea2a33] text-[#fcf8f8] font-bold">Entrar</button>
                    <p id="login-error" class="text-red-500 text-center text-sm h-4"></p>
                </form>
                <p class="text-center">¿No tienes cuenta? <a href="#" id="show-register" class="text-[#ea2a33] font-bold">Regístrate</a></p>
            </main>

            <main id="register-view" class="view-hidden">
                <h2 class="text-[#1b0e0e] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-10">Crea tu Cuenta</h2>
                <form id="register-form" class="flex flex-1 gap-3 max-w-[480px] flex-col items-stretch px-4 py-3 mx-auto">
                    <h3 class="text-lg font-bold text-center">Registro</h3>
                    <input type="email" id="register-email" placeholder="Correo electrónico" class="form-input rounded-lg border-none bg-[#f3e7e8]" required>
                    <input type="password" id="register-password" placeholder="Contraseña" class="form-input rounded-lg border-none bg-[#f3e7e8]" required>
                    <button type="submit" class="rounded-lg h-12 px-5 bg-[#ea2a33] text-[#fcf8f8] font-bold">Crear Cuenta</button>
                    <p id="register-error" class="text-red-500 text-center text-sm h-4"></p>
                </form>
                <p class="text-center">¿Ya tienes cuenta? <a href="#" id="show-login" class="text-[#ea2a33] font-bold">Inicia Sesión</a></p>
            </main>
        </div>

        <!-- Contenido Principal de la App (Oculto hasta iniciar sesión) -->
        <div id="main-content" class="view-hidden">
            <div id="content-views" class="flex-grow">
                <!-- Vista Principal (Home) -->
                <main id="main-view">
                    <h2 class="text-[#1b0e0e] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">Pacto Diario</h2>
                    <p class="text-[#1b0e0e] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">Fortaleciendo tu relación a través de la fe y el amor</p>
                    <div class="flex justify-center">
                        <div class="flex flex-1 gap-3 max-w-[480px] flex-col items-stretch px-4 py-3">
                            <button id="santuario-btn" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-[#ea2a33] text-[#fcf8f8] text-base font-bold leading-normal tracking-[0.015em] w-full">
                                <span class="truncate">Santuario de Oración</span>
                            </button>
                            <button id="viaje-btn" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-[#f3e7e8] text-[#1b0e0e] text-base font-bold leading-normal tracking-[0.015em] w-full">
                                <span class="truncate">Nuestro Viaje Diario</span>
                            </button>
                        </div>
                    </div>
                </main>

                <!-- Vista del Santuario de Oración -->
                <section id="santuario-view" class="view-hidden">
                    <div class="flex items-center bg-[#fcf8f8] p-4 pb-2 justify-between">
                        <button id="santuario-back-btn" class="text-[#1b0e0e] flex size-12 shrink-0 items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>
                        </button>
                        <h2 class="text-[#1b0e0e] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Santuario de Oración</h2>
                    </div>
                    <h2 class="text-[#1b0e0e] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">Hola, soy Logos</h2>
                    <p class="text-[#1b0e0e] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">Cuéntame, ¿sobre qué quieres orar hoy?</p>
                    <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3 mx-auto">
                        <label class="flex flex-col min-w-40 flex-1">
                            <textarea id="santuario-input" placeholder="Escribe tu tema de oración" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#1b0e0e] focus:outline-0 focus:ring-0 border-none bg-[#f3e7e8] focus:border-none h-24 placeholder:text-[#994d51] p-4 text-base font-normal leading-normal"></textarea>
                        </label>
                    </div>
                    <div class="flex px-4 py-3">
                        <button id="generar-guia-btn" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 flex-1 bg-[#ea2a33] text-[#fcf8f8] text-base font-bold leading-normal tracking-[0.015em] mx-auto">
                            <span class="truncate">Generar Guía</span>
                        </button>
                    </div>
                    <div id="santuario-response-area" class="p-4"></div>
                </section>

                <!-- Vista de Nuestro Viaje Diario -->
                <section id="viaje-view" class="view-hidden">
                    <div class="flex items-center bg-[#fcf8f8] p-4 pb-2 justify-between">
                        <button id="viaje-back-btn" class="text-[#1b0e0e] flex size-12 shrink-0 items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>
                        </button>
                        <h2 class="text-[#1b0e0e] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Nuestro Viaje Diario</h2>
                    </div>
                    <div id="viaje-content-area" class="p-4"></div>
                </section>

                <!-- Vista de Perfil -->
                <section id="profile-view" class="view-hidden">
                    <div class="flex items-center bg-[#fcf8f8] p-4 pb-2 justify-between">
                        <h2 class="text-[#1b0e0e] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">Perfil de la Pareja</h2>
                    </div>
                    <form id="profile-form" class="flex flex-1 gap-4 max-w-[480px] flex-col items-stretch px-4 py-5 mx-auto">
                        <p class="text-center text-sm text-[#586e75]">Introduce los nombres para personalizar tu experiencia en el Viaje Diario.</p>
                        <div>
                            <label for="user-name" class="block text-sm font-medium text-[#1b0e0e] pb-1">Tu Nombre</label>
                            <input type="text" id="user-name" placeholder="Ej: Elena" class="form-input w-full rounded-lg border-none bg-[#f3e7e8]" required>
                        </div>
                        <div>
                            <label for="partner-name" class="block text-sm font-medium text-[#1b0e0e] pb-1">Nombre de tu Pareja</label>
                            <input type="text" id="partner-name" placeholder="Ej: Mateo" class="form-input w-full rounded-lg border-none bg-[#f3e7e8]" required>
                        </div>
                        <button type="submit" class="rounded-lg h-12 px-5 bg-[#ea2a33] text-[#fcf8f8] font-bold mt-4">Guardar Perfil</button>
                        <p id="profile-status" class="text-green-600 text-center text-sm h-4"></p>
                    </form>
                </section>
            </div>

            <!-- Barra de Navegación Inferior -->
            <footer class="sticky bottom-0 w-full bg-white shadow-lg">
                <div class="flex gap-2 border-t border-[#f3e7e8] bg-[#fcf8f8] px-4 pb-3 pt-2">
                    <a id="nav-home" class="just flex flex-1 flex-col items-center justify-end gap-1 rounded-full text-[#1b0e0e]" href="#">
                        <div class="text-[#1b0e0e] flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0,1.14,1.14,0,0,0,.11.11l80,75.48A16,16,0,0,1,224,115.55Z"></path></svg></div>
                    </a>
                    <a id="nav-journey" class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#994d51]" href="#">
                        <div class="text-[#994d51] flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM104,52.94l48,24V203.06l-48-24ZM40,62.25l48-12v127.5l-48,12Zm176,131.5-48,12V78.25l48-12Z"></path></svg></div>
                    </a>
                    <a id="nav-profile" class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#994d51]" href="#">
                        <div class="text-[#994d51] flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path></svg></div>
                    </a>
                </div>
                 <button id="logout-btn" class="w-full text-center text-sm text-red-500 py-2">Cerrar Sesión</button>
            </footer>
        </div>

    </div>

    <!-- Scripts de Firebase -->
    <script src="/__/firebase/9.6.1/firebase-app-compat.js"></script>
    <script src="/__/firebase/9.6.1/firebase-auth-compat.js"></script>
    <script src="/__/firebase/9.6.1/firebase-firestore-compat.js"></script>
    <script src="/__/firebase/9.6.1/firebase-functions-compat.js"></script>
    <script src="/__/firebase/init.js"></script>

    <script src="script.js"></script>
</body>
</html>